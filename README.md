# üéÆ Quiz Battle

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–≤–∏–∑–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. 
–í–µ–¥—É—â–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–∫—Ä–∞–Ω –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ, –∏–≥—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ —Å–æ—Ä–µ–≤–Ω—É—é—Ç—Å—è, –∫—Ç–æ –ø–µ—Ä–≤—ã–π –Ω–∞–∂–º—ë—Ç –∫–Ω–æ–ø–∫—É!

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –î–æ 20 –∏–≥—Ä–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚úÖ Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ –¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∑–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏)
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ TV
- ‚úÖ –≠–º–æ–¥–∑–∏-–∞–≤–∞—Ç–∞—Ä—ã –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–≤–∏–±—Ä–∞—Ü–∏—è) –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** Java 17, Spring Boot 3.2, WebSocket (STOMP), Spring Data JPA, PostgreSQL
- **Frontend:** React 18, STOMP.js, React Router
- **Database:** PostgreSQL 15

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Maven 3.6+
- Node.js 18+
- npm 9+
- PostgreSQL 15+ (–∏–ª–∏ Docker –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ docker-compose)

### Backend (Spring Boot)

**–° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

```bash
docker-compose up -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç PostgreSQL, backend –∏ frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ —Å–æ–∑–¥–∞–Ω–∞ –ë–î `quizbattle`
2. –û–±–Ω–æ–≤–∏—Ç–µ `application.properties` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ë–î

```bash
cd backend
mvn spring-boot:run
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`

### Frontend (React)

```bash
cd frontend
npm install
npm start
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:3000`

## üìñ –ö–∞–∫ –∏–≥—Ä–∞—Ç—å

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–µ—Ä–µ–∑ API `/api/users/register`
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ API `/api/users/login`
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞—à `userId` –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–ª—è –≤–µ–¥—É—â–µ–≥–æ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000` –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ/—Ç–µ–ª–µ–≤–∏–∑–æ—Ä–µ
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É (—á–µ—Ä–µ–∑ WebSocket `/app/create-room` —Å `userId`)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º —á–µ—Ä–µ–∑ API `/api/users/invitations` (POST)
4. –ò–≥—Ä–æ–∫–∏ –ø–æ–ª—É—á–∞—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω—è—Ç—å –∏—Ö
5. –ü–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –∏–≥—Ä–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–º–Ω–∞—Ç—É
6. –ö–æ–≥–¥–∞ –≤—Å–µ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å - –∑–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å —É—Å—Ç–Ω–æ
7. –ù–∞–∂–º–∏—Ç–µ "–°—Ç–∞—Ä—Ç —Ä–∞—É–Ω–¥–∞"
8. –ü–µ—Ä–≤—ã–π –Ω–∞–∂–∞–≤—à–∏–π –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ!
9. –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å" –¥–ª—è —Å–±—Ä–æ—Å–∞

### –î–ª—è –∏–≥—Ä–æ–∫–∞:
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
2. –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ API `/api/users/{userId}/invitations`
3. –ü—Ä–∏–º–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API `/api/users/invitations/{invitationId}/accept`
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –∫–æ–º–Ω–∞—Ç–µ —á–µ—Ä–µ–∑ WebSocket `/app/join-room`
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –Ω–∞—á–∞–ª–∞ —Ä–∞—É–Ω–¥–∞ (–∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª—ë–Ω–æ–π)
6. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∫–∞–∫ –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ!
7. –ï—Å–ª–∏ —É—Å–ø–µ–ª–∏ –ø–µ—Ä–≤—ã–º ‚Äî –æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å!

## üåê –°–µ—Ç–µ–≤–∞—è –∏–≥—Ä–∞

–î–ª—è –∏–≥—Ä—ã –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:

1. –£–∑–Ω–∞–π—Ç–µ IP-–∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º:
   - Windows: `ipconfig`
   - Mac/Linux: `ifconfig` –∏–ª–∏ `ip addr`

2. –ò–∑–º–µ–Ω–∏—Ç–µ URL –≤ `frontend/src/services/websocket.js`:
   ```javascript
   const SOCKET_URL = 'http://YOUR_IP:8080/ws';
   ```

3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   REACT_APP_WS_URL=http://192.168.1.100:8080/ws npm start
   ```

4. –ò–≥—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É: `http://YOUR_IP:3000/play/ROOM_CODE/PLAYER_ID`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
button_app/
‚îú‚îÄ‚îÄ backend/                    # Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/main/java/com/quizbattle/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/            # WebSocket –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/        # REST –∏ WebSocket –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/        # JPA Entity (User, RoomEntity, RoomInvitation)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...            # DTO –∏ –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/        # Spring Data JPA —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ pom.xml
‚îú‚îÄ‚îÄ frontend/                   # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã (Host, Player, Home)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/          # WebSocket —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.css
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

## üîß API

### WebSocket Endpoints

| Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `/app/create-room` | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è `userId` –≤ payload) |
| `/app/add-player` | –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞ |
| `/app/join-room` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∏–≥—Ä–æ–∫–∞ |
| `/app/start-round` | –ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥ |
| `/app/press-button` | –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É |
| `/app/reset-round` | –°–±—Ä–æ—Å–∏—Ç—å —Ä–∞—É–Ω–¥ |

### REST Endpoints

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/users/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/users/login` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| GET | `/api/users/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |

#### –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/users/invitations` | –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è `hostUserId` –≤ query) |
| GET | `/api/users/{userId}/invitations` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/users/invitations/{invitationId}/accept` | –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è `userId` –≤ query) |
| POST | `/api/users/invitations/{invitationId}/reject` | –û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è `userId` –≤ query) |
| GET | `/api/users/rooms/{roomCode}/invitations` | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –¥–ª—è –∫–æ–º–Ω–∞—Ç—ã |

#### –ö–æ–º–Ω–∞—Ç—ã
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/room/{code}` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–Ω–∞—Ç—É |
| GET | `/api/avatars` | –°–ø–∏—Å–æ–∫ –∞–≤–∞—Ç–∞—Ä–æ–≤ |

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT


